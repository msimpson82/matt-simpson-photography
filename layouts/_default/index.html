{{ define "main" }}
    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-content">
            <p class="hero-text">
                I'm <span class="name">Matt</span>, and I create <span class="highlight">killer visuals</span> for <span class="highlight">high-stakes shoots</span>, <span class="highlight">bold campaigns</span>, & <span class="highlight">unstoppable clients</span>.
            </p>
            <div class="hero-buttons">
                <a href="/about" class="cta-button secondary">More About Me</a>
            </div>
        </div>
    </section>

    <!-- Bold Commercial Section -->
    <section class="bold-commercial" id="bold-commercial">
        <div class="bold-commercial-container">
            <div class="bold-commercial-images">
                <div class="bold-image-item">
                    <img src="/images/collage.png" alt="Photography Collage">
                </div>
            </div>
            <div class="bold-commercial-content">
                <h2 class="bold-commercial-title">Bold, professional, & unabashedly commercial.</h2>
                <p class="bold-commercial-description">
                    My work thrives in ad campaigns, shines on billboards, and shows up across the feeds of powerful brands winning the game of attention. From product launches, rebrands, corporate headshots or events - <br><br>...if it needs a camera, <strong>I'm on it.</strong>
                </p>
            </div>
        </div>
    </section>

    <!-- Services Section - Basic Foundation -->
    <section class="services-section" id="services">
        <div class="services-container">
            <div class="services-label">SERVICES</div>
            
            <div class="services-image">
                <div class="services-image-side">
                    <div class="services-photo active" data-service="0">
                        <img src="/images/kaz.jpg" alt="Headshots Photography">
                    </div>
                    <div class="services-photo" data-service="1">
                        <img src="/images/event1.jpg" alt="Events Photography">
                    </div>
                    <div class="services-photo" data-service="2">
                        <img src="/images/brand1.jpg" alt="Branding Photography">
                    </div>
                    <div class="services-photo" data-service="3">
                        <img src="/images/port1.jpg" alt="Portraits Photography">
                    </div>
                </div>
                
                <div class="services-image-main">
                    <div class="services-photo active" data-service="0">
                        <img src="/images/headshot.jpg" alt="Headshots Photography">
                    </div>
                    <div class="services-photo" data-service="1">
                        <img src="/images/event2.jpg" alt="Events Photography">
                    </div>
                    <div class="services-photo" data-service="2">
                        <img src="/images/brand2.jpg" alt="Branding Photography">
                    </div>
                    <div class="services-photo" data-service="3">
                        <img src="/images/port2.jpg" alt="Portraits Photography">
                    </div>
                </div>
                
                <div class="services-image-side">
                    <div class="services-photo active" data-service="0">
                        <img src="/images/headshot2.jpg" alt="Headshots Photography">
                    </div>
                    <div class="services-photo" data-service="1">
                        <img src="/images/events3.jpg" alt="Events Photography">
                    </div>
                    <div class="services-photo" data-service="2">
                        <img src="/images/brand3.jpg" alt="Branding Photography">
                    </div>
                    <div class="services-photo" data-service="3">
                        <img src="/images/port3.jpg" alt="Portraits Photography">
                    </div>
                </div>
            </div>
            
            <div class="services-dots">
                <div class="services-dot active" data-service="0"></div>
                <div class="services-dot" data-service="1"></div>
                <div class="services-dot" data-service="2"></div>
                <div class="services-dot" data-service="3"></div>
            </div>
            
            <div class="services-content">
                <div class="services-slide active" data-service="0">
                    <a href="/headshots" class="service-cta-button">View Headshot Portfolio</a>
                    <p class="service-description">
                        Professional headshots that command attention. From corporate executives to creative professionals, creating powerful portraits that open doors and build brands.
                    </p>
                </div>
                
                <div class="services-slide" data-service="1">
                    <a href="/events" class="service-cta-button">View Event Portfolio</a>
                    <p class="service-description">
                        Dynamic event photography that captures the energy and essence of your occasions. From conferences to celebrations, documenting moments that matter.
                    </p>
                </div>
                
                <div class="services-slide" data-service="2">
                    <a href="/branding" class="service-cta-button">View Branding Portfolio</a>
                    <p class="service-description">
                        Cohesive brand photography that tells your story visually. Creating authentic imagery that connects with your audience and drives engagement.
                    </p>
                </div>
                
                <div class="services-slide" data-service="3">
                    <a href="/projects/portraits/" class="service-cta-button">View Portrait Portfolio</a>
                    <p class="service-description">
                        Expressive portrait photography that captures personality and emotion. Creating timeless images that celebrate the unique beauty of every individual.
                    </p>
                </div>
            </div>
            
            <div class="services-navigation">
                <div class="services-arrow" id="servicesPrev">‹</div>
                <div class="services-arrow" id="servicesNext">›</div>
            </div>
        </div>
    </section>

    <!-- Featured Galleries Section -->
    <section class="featured-projects" id="featured-projects">
        <div class="featured-projects-container">
            <h2 class="section-title">Featured Galleries</h2>
            
            <div class="projects-grid">
                <!-- Storyfest Louisville -->
                <div class="project-card">
                    <div class="project-image">
                        <img src="/images/story.jpg" alt="Storyfest Louisville Event Photography">
                        
                    </div>
                    <div class="project-content">
                        <div class="project-category">Event Photography</div>
                        <h3 class="project-title">Storyfest Louisville</h3>
                        <p class="project-description">Comprehensive event coverage capturing the energy and storytelling magic of Louisville's premier narrative festival. Shot live performances, audience engagement, and behind-the-scenes moments.</p>
                        <a href="/projects/storyfest-louisville" class="project-button">View Full Gallery</a>
                    </div>
                </div>

                <!-- Talespin Ale Fest -->
                <div class="project-card">
                    <div class="project-image">
                        <img src="/images/talespin.jpg" alt="Talespin Ale Fest Event Photography">
                        
                    </div>
                    <div class="project-content">
                        <div class="project-category">Event Photography</div>
                        <h3 class="project-title">Talespin Ale Fest</h3>
                        <p class="project-description">Check out my event photography showcasing craft beer culture, vendor interactions, live entertainment, and the vibrant community atmosphere of this celebrated brewing event.</p>
                        <a href="/projects/talespin-ale-fest" class="project-button">View Full Gallery</a>
                    </div>
                </div>

                <!-- The Perfumery -->
                <div class="project-card">
                    <div class="project-image">
                        <img src="/images/perfumery.jpg" alt="The Perfumery Branding Photography">
                        
                    </div>
                    <div class="project-content">
                        <div class="project-category">Branding Photography</div>
                        <h3 class="project-title">The Perfumery</h3>
                        <p class="project-description">Elevated product and lifestyle photography showcasing artisanal fragrances and the hands that make it possible.</p>
                        <a href="/projects/the-perfumery" class="project-button">View Full Gallery</a>
                    </div>
                </div>

                <!-- Current812 -->
                <div class="project-card">
                    <div class="project-image">
                        <img src="/images/current.jpg" alt="Current812 Branding Photography">
                        <div class="project-category">Branding Photography</div>
                    </div>
                    <div class="project-content">
                        <div class="project-category">Branding Photography</div>
                        <h3 class="project-title">Current812</h3>
                        <p class="project-description">Contemporary brand photography for a beautiful luxury apartment complex in Jeffersonville, Indiana.</p>
                        <a href="/projects/current812" class="project-button">View Full Gallery</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Photo of the Day Section -->
    <section class="potd-section" id="potd">
        <div class="potd-container">
            <div class="potd-intro">
                <h2 class="potd-title">Photo of the Day</h2>
                <p class="potd-description">
                    No client briefs, no deadlines...just capturing what catches my eye, what makes me smile, or what strikes me as beautiful. Thank you for looking.
                </p>
            </div>

            <!-- Current Photo of the Day -->
            {{ $potdPosts := where site.RegularPages "Section" "potd" }}
            {{ $featuredPost := where $potdPosts "Params.featured" true }}
            {{ $sortedPosts := sort $potdPosts "Date" "desc" }}
            {{ $currentPost := index $sortedPosts 0 }}
            {{ if $featuredPost }}
                {{ $currentPost = index $featuredPost 0 }}
            {{ end }}

            <div class="potd-featured">
                <div class="potd-featured-image">
                    <img src="/images/potd/{{ $currentPost.Params.image }}" alt="Photo of the Day - {{ $currentPost.Date.Format "January 2, 2006" }}">
                </div>
                <div class="potd-featured-content">
                    <div class="potd-date">{{ $currentPost.Date.Format "January 2, 2006" }}</div>
                    <h3 class="potd-title">{{ $currentPost.Title }}</h3>
                    <div class="potd-caption">
                        {{ $currentPost.Content }}
                    </div>
                </div>
            </div>

            <!-- Recent Days Thumbnails -->
            <div class="potd-recent">
                <div class="potd-navigation">
                    <button class="potd-nav-btn potd-prev" id="potdPrev">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15,18 9,12 15,6"></polyline>
                        </svg>
                    </button>
                    
                    <div class="potd-thumbnails">
                        {{ $recentPosts := first 6 $sortedPosts }}
                        {{ range $index, $post := $recentPosts }}
                            {{ $isActive := "" }}
                            {{ if eq $post $currentPost }}{{ $isActive = "active" }}{{ end }}
                            <div class="potd-thumbnail {{ $isActive }}" 
                                 data-date="{{ $post.Date.Format "January 2, 2006" }}" 
                                 data-image="/images/potd/{{ $post.Params.image }}" 
                                 data-caption="{{ $post.Content }}"
                                 data-title="{{ $post.Title }}"
                                 data-index="{{ $index }}">
                                <img src="/images/potd/{{ $post.Params.image }}" alt="{{ $post.Date.Format "January 2, 2006" }}">
                            </div>
                        {{ end }}
                    </div>
                    
                    <button class="potd-nav-btn potd-next" id="potdNext">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9,18 15,12 9,6"></polyline>
                        </svg>
                    </button>
                </div>
                <a href="/potd/archive/" class="potd-archive-link">View Full Archive</a>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section" id="contact">
        <div class="cta-container">
            <h2 class="cta-title">Let's Get to Work.</h2>
            <p class="cta-subtitle">I am a professional photographer ready to work. Get in touch with the contact form below.</p>
            
        <form class="contact-form" name="contact" method="POST" data-netlify="true">
    <div class="form-group">
        <input type="text" class="form-input" name="name" placeholder="Your Name" required>
    </div>
    <div class="form-group">
        <input type="email" class="form-input" name="email" placeholder="Your Email" required>
    </div>
    <div class="form-group">
        <textarea class="form-textarea" name="message" placeholder="Tell me about your project..." required></textarea>
    </div>
    <button type="submit" class="form-submit">Send Message</button>
    <input type="hidden" name="form-name" value="contact">
</form>
        </div>
    </section>
{{ end }}

{{ define "scripts" }}
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // smooth scroll when clicking nav links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // hamburger menu stuff
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuClose = document.getElementById('mobileMenuClose');

        if (hamburger) {
            hamburger.addEventListener('click', () => {
                mobileMenu.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        }

        if (mobileMenuClose) {
            mobileMenuClose.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                document.body.style.overflow = '';
            });
        }

        document.querySelectorAll('.mobile-menu-links a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // New nav scroll behavior
        const header = document.getElementById('header');
        
        let lastScrollY = 0;
        let scrollTimer = null;
        
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            
            // Throttle scroll events
            if (scrollTimer) clearTimeout(scrollTimer);
            
            scrollTimer = setTimeout(() => {
                if (scrollY > 25) {
                    const scrollDifference = Math.abs(scrollY - lastScrollY);
                    
                    if (scrollDifference > 2) {
                        if (scrollY > lastScrollY) {
                            // Scrolling down - hide nav
                            header.classList.add('nav-hidden');
                            header.classList.remove('scrolled');
                        } else {
                            // Scrolling up - show nav with white background
                            header.classList.remove('nav-hidden');
                            header.classList.add('scrolled');
                        }
                    }
                } else {
                    // At top - show transparent nav
                    header.classList.remove('nav-hidden');
                    header.classList.remove('scrolled');
                }
                
                lastScrollY = scrollY;
            }, 10);
        });

        // photo of the day navigation
        const potdThumbnails = document.querySelectorAll('.potd-thumbnail');
        const potdFeaturedImage = document.querySelector('.potd-featured-image img');
        const potdFeaturedDate = document.querySelector('.potd-date');
        const potdFeaturedTitle = document.querySelector('.potd-featured-content .potd-title');
        const potdFeaturedCaption = document.querySelector('.potd-caption');
        const potdPrevBtn = document.getElementById('potdPrev');
        const potdNextBtn = document.getElementById('potdNext');
        
        let currentPotdIndex = 0;
        
        // find which thumbnail is active on load
        potdThumbnails.forEach((thumbnail, index) => {
            if (thumbnail.classList.contains('active')) {
                currentPotdIndex = index;
            }
        });

        function updatePotdDisplay(index) {
            const thumbnail = potdThumbnails[index];
            if (!thumbnail) return;
            
            const date = thumbnail.dataset.date;
            const image = thumbnail.dataset.image;
            const caption = thumbnail.dataset.caption;
            const title = thumbnail.dataset.title;

            potdFeaturedImage.style.opacity = '0';
            setTimeout(() => {
                potdFeaturedImage.src = image;
                potdFeaturedImage.alt = `Photo of the Day - ${date}`;
                potdFeaturedDate.textContent = date;
                potdFeaturedTitle.textContent = title;
                potdFeaturedCaption.textContent = caption;
                potdFeaturedImage.style.opacity = '1';
            }, 200);

            // update which thumbnail looks active
            potdThumbnails.forEach(thumb => thumb.classList.remove('active'));
            thumbnail.classList.add('active');
            
            currentPotdIndex = index;
        }

        // click on thumbnails
        potdThumbnails.forEach((thumbnail, index) => {
            thumbnail.addEventListener('click', () => {
                updatePotdDisplay(index);
            });
        });
        
        // arrow buttons for potd
        if (potdPrevBtn && potdNextBtn) {
            potdPrevBtn.addEventListener('click', () => {
                const newIndex = currentPotdIndex > 0 ? currentPotdIndex - 1 : potdThumbnails.length - 1;
                updatePotdDisplay(newIndex);
            });
            
            potdNextBtn.addEventListener('click', () => {
                const newIndex = currentPotdIndex < potdThumbnails.length - 1 ? currentPotdIndex + 1 : 0;
                updatePotdDisplay(newIndex);
            });
        }
        
        // Services basic functionality - Foundation
        const servicesPhotos = document.querySelectorAll('.services-photo');
        const servicesSlides = document.querySelectorAll('.services-slide');
        const servicesDots = document.querySelectorAll('.services-dot');
        const servicesPrev = document.getElementById('servicesPrev');
        const servicesNext = document.getElementById('servicesNext');
        
        let currentServiceIndex = 0;
        const totalServices = 4;
        
        // Debug logging
        console.log('Services elements found:', {
            photos: servicesPhotos.length,
            slides: servicesSlides.length,
            dots: servicesDots.length,
            prevBtn: servicesPrev,
            nextBtn: servicesNext
        });
        
        function updateService(index) {
            console.log('Updating to service index:', index);
            // Remove active classes from ALL photos across all containers
            servicesPhotos.forEach(photo => photo.classList.remove('active'));
            servicesSlides.forEach(slide => slide.classList.remove('active'));
            servicesDots.forEach(dot => dot.classList.remove('active'));
            
            // Add active classes to all photos with matching data-service
            const activePhotos = document.querySelectorAll(`.services-photo[data-service="${index}"]`);
            const activeSlide = document.querySelector(`.services-slide[data-service="${index}"]`);
            const activeDot = document.querySelector(`.services-dot[data-service="${index}"]`);
            
            activePhotos.forEach(photo => photo.classList.add('active'));
            if (activeSlide) activeSlide.classList.add('active');
            if (activeDot) activeDot.classList.add('active');
            
            currentServiceIndex = index;
        }
        
        function nextService() {
            const next = (currentServiceIndex + 1) % totalServices;
            updateService(next);
        }
        
        function prevService() {
            const prev = (currentServiceIndex - 1 + totalServices) % totalServices;
            updateService(prev);
        }
        
        // Arrow navigation
        if (servicesPrev) {
            servicesPrev.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Previous arrow clicked');
                prevService();
            });
        } else {
            console.error('Previous button not found!');
        }
        
        if (servicesNext) {
            servicesNext.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                console.log('Next arrow clicked');
                nextService();
            });
        } else {
            console.error('Next button not found!');
        }
        
        // Dot navigation
        servicesDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                console.log('Dot clicked:', index);
                updateService(index);
            });
        });
    });
    </script>
{{ end }}