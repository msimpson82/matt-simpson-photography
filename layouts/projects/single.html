<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }} - Matt Simpson Photography</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        /* Project Page Specific Styles */
        .project-content .project-container {
            max-width: 700px;
        }
        
        .project-article {
            font-size: 1.1rem;
            line-height: 1.9;
        }
        
        .project-article h2 {
            font-family: var(--secondary-font);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--black);
            margin: 3rem 0 1.5rem 0;
            line-height: 1.3;
        }
        
        .project-article h3 {
            font-family: var(--secondary-font);
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--black);
            margin: 2.5rem 0 1rem 0;
            line-height: 1.3;
        }
        
        .project-article p {
            margin-bottom: 1.8rem;
        }
        
        .project-article blockquote {
            font-family: var(--primary-font);
            font-style: italic;
            font-size: 1.3rem;
            line-height: 1.6;
            color: var(--gray);
            border-left: 4px solid var(--black);
            padding: 1.5rem 0 1.5rem 2rem;
            margin: 3rem 0;
            background: var(--light-gray);
            position: relative;
        }
        
        .project-article blockquote::before {
            content: '"';
            font-family: var(--primary-font);
            font-size: 4rem;
            color: var(--black);
            position: absolute;
            left: 0.5rem;
            top: -0.5rem;
            opacity: 0.3;
        }
        
        .project-article ul, .project-article ol {
            margin: 2rem 0;
            padding-left: 2rem;
        }
        
        .project-article li {
            margin-bottom: 0.8rem;
            line-height: 1.7;
        }
        
        .project-article ul li {
            list-style: none;
            position: relative;
        }
        
        .project-article ul li::before {
            content: 'â€¢';
            color: var(--black);
            font-weight: bold;
            position: absolute;
            left: -1.5rem;
            font-size: 1.2rem;
        }
        
        .project-article strong {
            font-weight: 600;
            color: var(--black);
        }
        
        .project-article em {
            font-family: var(--primary-font);
            font-style: italic;
        }
        
        .project-article code {
            background: var(--light-gray);
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.9rem;
            color: var(--black);
        }
        
        .project-article hr {
            border: none;
            height: 2px;
            background: var(--light-gray);
            margin: 4rem 0;
            opacity: 0.5;
        }
        
        /* Add subtle breathing room */
        .project-content {
            padding: 5rem 1.5rem;
        }
        
        /* First paragraph special styling */
        .project-article p:first-child {
            font-size: 1.2rem;
            color: var(--gray);
            font-weight: 300;
            margin-bottom: 2.5rem;
        }
    </style>
</head>
<body class="single-project-page">
    <!-- Header Navigation -->
    <header class="header" id="header">
        <div class="nav-container">
            <svg class="email-icon" onclick="window.location.href='mailto:hello@hardsearstudio.com'" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
            </svg>
            
            <a href="/" class="nav-logo" id="navLogo">Matt Simpson Photography</a>
            
            <nav class="desktop-nav">
                <a href="/#portfolio">Work</a>
                <a href="/projects">Featured Projects</a>
                <a href="/#potd">Photo of the Day</a>
                <a href="/#about">About</a>
                <a href="/#contact">Contact</a>
            </nav>
            
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-close" id="mobileMenuClose"></div>
        <ul class="mobile-menu-links">
            <li><a href="/#portfolio">Work</a></li>
            <li><a href="/projects">Featured Projects</a></li>
            <li><a href="/#potd">Photo of the Day</a></li>
            <li><a href="/#about">About</a></li>
            <li><a href="/#contact">Contact</a></li>
        </ul>
    </div>

    <!-- Project Hero Section -->
    <section class="project-hero">
        <div class="project-hero-image">
            <img src="/images/{{ .Params.hero_image }}" alt="{{ .Title }}">
        </div>
        <div class="project-hero-content">
            <div class="project-breadcrumb">
                <a href="/">Home</a> / <a href="/projects">Featured Projects</a> / {{ .Title }}
            </div>
            <h1 class="project-title">{{ .Title }}</h1>
            <div class="project-meta">
                <div class="project-meta-item">
                    <span class="meta-label">Project Type</span>
                    <span>{{ .Params.project_type }}</span>
                </div>
                <div class="project-meta-item">
                    <span class="meta-label">Client</span>
                    <span>{{ .Params.client }}</span>
                </div>
                <div class="project-meta-item">
                    <span class="meta-label">Date</span>
                    <span>{{ .Date.Format "January 2006" }}</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Content -->
    <section class="project-content">
        <div class="project-container">
            <article class="project-article">
                {{ .Content }}
            </article>
        </div>
    </section>

    <!-- Project Gallery -->
    <section class="project-gallery">
        <div class="portfolio-grid">
            {{ range .Params.gallery }}
                <div class="portfolio-item" data-image="/images/projects/{{ . }}">
                    <img src="/images/projects/{{ . }}" alt="{{ $.Title }} Gallery Image">
                </div>
            {{ end }}
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <h3 class="footer-logo">Matt Simpson Photography</h3>
            <p class="footer-text">
                Commercial photographer specializing in portraits, branding, and professional headshots in Louisville, KY.
            </p>
            <div class="footer-social">
                <a href="mailto:hello@hardsearstudio.com" class="social-link">Email</a>
                <a href="#" class="social-link">Instagram</a>
                <a href="#" class="social-link">LinkedIn</a>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Matt Simpson Photography. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Lightbox (same as main page) -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-container">
            <div class="lightbox-image-area">
                <img id="lightboxImage" src="" alt="Gallery Image">
                <div class="lightbox-nav lightbox-prev" id="lightboxPrev">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"></polyline>
                    </svg>
                </div>
                <div class="lightbox-nav lightbox-next" id="lightboxNext">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"></polyline>
                    </svg>
                </div>
            </div>
            <div class="lightbox-sidebar">
                <div class="lightbox-header">
                    <div class="lightbox-counter" id="lightboxCounter">1 / 1</div>
                    <div class="lightbox-close" id="lightboxClose">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </div>
                </div>
                <div class="lightbox-content">
                    <h3 class="lightbox-title" id="lightboxTitle">{{ .Title }}</h3>
                    <p class="lightbox-description" id="lightboxDescription">{{ .Params.project_type }} - {{ .Params.client }}</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu functionality
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuClose = document.getElementById('mobileMenuClose');

        hamburger.addEventListener('click', () => {
            mobileMenu.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        mobileMenuClose.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
        });

        document.querySelectorAll('.mobile-menu-links a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // Lightbox functionality (same as main page)
        const portfolioItems = document.querySelectorAll('.portfolio-item');
        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightboxImage');
        const lightboxClose = document.getElementById('lightboxClose');
        const lightboxPrev = document.getElementById('lightboxPrev');
        const lightboxNext = document.getElementById('lightboxNext');
        const lightboxCounter = document.getElementById('lightboxCounter');
        const lightboxTitle = document.getElementById('lightboxTitle');
        const lightboxDescription = document.getElementById('lightboxDescription');

        let currentImageIndex = 0;
        const images = Array.from(portfolioItems);

        function openLightbox(index) {
            currentImageIndex = index;
            updateLightboxContent();
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateLightboxContent() {
            const currentItem = images[currentImageIndex];
            const imgSrc = currentItem.querySelector('img').src;

            lightboxImage.src = imgSrc;
            lightboxCounter.textContent = `${currentImageIndex + 1} / ${images.length}`;
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % images.length;
            updateLightboxContent();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            updateLightboxContent();
        }

        portfolioItems.forEach((item, index) => {
            item.addEventListener('click', () => openLightbox(index));
        });

        lightboxClose.addEventListener('click', closeLightbox);
        lightboxNext.addEventListener('click', nextImage);
        lightboxPrev.addEventListener('click', prevImage);

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('active')) return;
            
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowRight') nextImage();
            if (e.key === 'ArrowLeft') prevImage();
        });
    </script>
</body>
</html>